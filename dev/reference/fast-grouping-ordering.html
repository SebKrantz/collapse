<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Fast Grouping and Ordering — fast-grouping-ordering • collapse</title><!-- favicons --><link rel="icon" type="image/png" sizes="48x48" href="../favicon-48x48.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><link href="../extra.css" rel="stylesheet"><meta property="og:title" content="Fast Grouping and Ordering — fast-grouping-ordering"><meta name="description" content="collapse provides the following functions to efficiently group and order data:
radixorder(v), provides fast radix-ordering through direct access to the method order(..., method = &quot;radix&quot;), as well as the possibility to return some attributes very useful for grouping data and finding unique elements. The function roworder(v) efficiently reorders a data frame.
group(v) provides fast grouping in first-appearance order of rows, based on a hashing algorithm in C. Objects have class 'qG', see below.
GRP creates collapse grouping objects of class 'GRP' based on radixorder or group. 'GRP' objects form the central building block for grouped operations and programming in collapse and are very efficient inputs to all collapse functions supporting grouped operations.
fgroup_by provides a fast replacement for dplyr::group_by, creating a grouped data frame (or data.table / tibble etc.) with a 'GRP' object attached. This grouped frame can be used for grouped operations using collapse's fast functions.
fmatch is a fast alternative to match, which also supports matching of data frame rows.
funique is a faster version of unique. The data frame method also allows selecting unique rows according to a subset of the columns. fnunique efficiently calculates the number of unique values/rows. fduplicated is a fast alternative to duplicated. any_duplicated is a simpler and faster alternative to anyDuplicated.
fcount(v) computes group counts based on a subset of columns in the data, and is a fast replacement for dplyr::count.
qF, shorthand for 'quick-factor' implements very fast factor generation from atomic vectors using either radix ordering method = &quot;radix&quot; or hashing method = &quot;hash&quot;. Factors can also be used for efficient grouped programming with collapse functions, especially if they are generated using qF(x, na.exclude = FALSE) which assigns a level to missing values and attaches a class 'na.included' ensuring that no additional missing value checks are executed by collapse functions.
qG, shorthand for 'quick-group', generates a kind of factor-light without the levels attribute but instead an attribute providing the number of levels. Optionally the levels / groups can be attached, but without converting them to character. Objects have a class 'qG', which is also recognized in the collapse ecosystem.
fdroplevels is a substantially faster replacement for droplevels.
finteraction is a fast alternative to interaction implemented as a wrapper around as_factor_GRP(GRP(...)). It can be used to generate a factor from multiple vectors, factors or a list of vectors / factors. Unused factor levels are always dropped.
groupid is a generalization of data.table::rleid providing a run-length type group-id from atomic vectors. It is generalization as it also supports passing an ordering vector and skipping missing values. For example qF and qG with method = &quot;radix&quot; are essentially implemented using groupid(x, radixorder(x)).
seqid is a specialized function which creates a group-id from sequences of integer values. For any regular panel dataset groupid(id, order(id, time)) and seqid(time, order(id, time)) provide the same id variable. seqid is especially useful for identifying discontinuities in time-sequences.
timeid is a specialized function to convert integer or double vectors representing time (such as 'Date', 'POSIXct' etc.) to factor or 'qG' object based on the greatest common divisor of elements (thus preserving gaps in time intervals).

"><meta property="og:description" content="collapse provides the following functions to efficiently group and order data:
radixorder(v), provides fast radix-ordering through direct access to the method order(..., method = &quot;radix&quot;), as well as the possibility to return some attributes very useful for grouping data and finding unique elements. The function roworder(v) efficiently reorders a data frame.
group(v) provides fast grouping in first-appearance order of rows, based on a hashing algorithm in C. Objects have class 'qG', see below.
GRP creates collapse grouping objects of class 'GRP' based on radixorder or group. 'GRP' objects form the central building block for grouped operations and programming in collapse and are very efficient inputs to all collapse functions supporting grouped operations.
fgroup_by provides a fast replacement for dplyr::group_by, creating a grouped data frame (or data.table / tibble etc.) with a 'GRP' object attached. This grouped frame can be used for grouped operations using collapse's fast functions.
fmatch is a fast alternative to match, which also supports matching of data frame rows.
funique is a faster version of unique. The data frame method also allows selecting unique rows according to a subset of the columns. fnunique efficiently calculates the number of unique values/rows. fduplicated is a fast alternative to duplicated. any_duplicated is a simpler and faster alternative to anyDuplicated.
fcount(v) computes group counts based on a subset of columns in the data, and is a fast replacement for dplyr::count.
qF, shorthand for 'quick-factor' implements very fast factor generation from atomic vectors using either radix ordering method = &quot;radix&quot; or hashing method = &quot;hash&quot;. Factors can also be used for efficient grouped programming with collapse functions, especially if they are generated using qF(x, na.exclude = FALSE) which assigns a level to missing values and attaches a class 'na.included' ensuring that no additional missing value checks are executed by collapse functions.
qG, shorthand for 'quick-group', generates a kind of factor-light without the levels attribute but instead an attribute providing the number of levels. Optionally the levels / groups can be attached, but without converting them to character. Objects have a class 'qG', which is also recognized in the collapse ecosystem.
fdroplevels is a substantially faster replacement for droplevels.
finteraction is a fast alternative to interaction implemented as a wrapper around as_factor_GRP(GRP(...)). It can be used to generate a factor from multiple vectors, factors or a list of vectors / factors. Unused factor levels are always dropped.
groupid is a generalization of data.table::rleid providing a run-length type group-id from atomic vectors. It is generalization as it also supports passing an ordering vector and skipping missing values. For example qF and qG with method = &quot;radix&quot; are essentially implemented using groupid(x, radixorder(x)).
seqid is a specialized function which creates a group-id from sequences of integer values. For any regular panel dataset groupid(id, order(id, time)) and seqid(time, order(id, time)) provide the same id variable. seqid is especially useful for identifying discontinuities in time-sequences.
timeid is a specialized function to convert integer or double vectors representing time (such as 'Date', 'POSIXct' etc.) to factor or 'qG' object based on the greatest common divisor of elements (thus preserving gaps in time intervals).

"><meta property="og:image" content="https://sebkrantz.github.io/collapse/logo.png"><meta name="robots" content="noindex"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">collapse</a>

    <small class="nav-text text-danger me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="In-development version">2.0.19.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="active nav-item"><a class="nav-link" href="../reference/index.html">Documentation</a></li>
<li class="nav-item"><a class="nav-link" href="../articles/index.html">Vignettes</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">News</a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://sebkrantz.github.io/Rblog/">Blog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://bsky.app/profile/rcollapse.bsky.social" aria-label="BlueSky"><span class="fa fa-bluesky"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://twitter.com/collapse_R" aria-label="Twitter"><span class="fa fa-twitter"></span></a></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/SebKrantz/collapse" aria-label="GitHub"><span class="fa fa-github"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Fast Grouping and Ordering</h1>

      <div class="d-none name"><code>fast-grouping-ordering.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p><em>collapse</em> provides the following functions to efficiently group and order data:</p><ul><li><p><code><a href="radixorder.html">radixorder(v)</a></code>, provides fast radix-ordering through direct access to the method <code><a href="https://rdrr.io/r/base/order.html" class="external-link">order(..., method = "radix")</a></code>, as well as the possibility to return some attributes very useful for grouping data and finding unique elements. The function <code><a href="roworder.html">roworder(v)</a></code> efficiently reorders a data frame. <!-- %The source code for both \code{\link{radixorder}} and \code{\link{order(\dots, method = "radix")}, comes from \code{data.table:::forder}. --></p></li>
<li><p><code><a href="group.html">group(v)</a></code> provides fast grouping in first-appearance order of rows, based on a hashing algorithm in C. Objects have class 'qG', see below.</p></li>
<li><p><code><a href="GRP.html">GRP</a></code> creates <em>collapse</em> grouping objects of class 'GRP' based on <code><a href="radixorder.html">radixorder</a></code> or <code><a href="group.html">group</a></code>. 'GRP' objects form the central building block for grouped operations and programming in <em>collapse</em> and are very efficient inputs to all <em>collapse</em> functions supporting grouped operations. <!-- %A 'GRP' object provides information about (1) the number of groups, (2) which rows belong to which group, (3) the group sizes, (4) the unique groups, (5) the variables used for grouping, (6) whether the grouping and initial inputs were ordered and (7) (optionally) the output from \code{\link{radixorder}} containing the ordering vector with group starts and maximum group size attributes. --></p></li>
<li><p><code><a href="GRP.html">fgroup_by</a></code> provides a fast replacement for <code><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">dplyr::group_by</a></code>, creating a grouped data frame (or data.table / tibble etc.) with a 'GRP' object attached. This grouped frame can be used for grouped operations using <em>collapse</em>'s fast functions. <!-- % \emph{dplyr} functions will treat this tibble like an ordinary (non-grouped) one. --></p></li>
<li><p><code><a href="fmatch.html">fmatch</a></code> is a fast alternative to <code><a href="https://rdrr.io/r/base/match.html" class="external-link">match</a></code>, which also supports matching of data frame rows.</p></li>
<li><p><code><a href="funique.html">funique</a></code> is a faster version of <code><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></code>. The data frame method also allows selecting unique rows according to a subset of the columns. <code><a href="funique.html">fnunique</a></code> efficiently calculates the number of unique values/rows. <code><a href="funique.html">fduplicated</a></code> is a fast alternative to <code><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">duplicated</a></code>. <code><a href="funique.html">any_duplicated</a></code> is a simpler and faster alternative to <code><a href="https://rdrr.io/r/base/duplicated.html" class="external-link">anyDuplicated</a></code>.</p></li>
<li><p><code><a href="fcount.html">fcount(v)</a></code> computes group counts based on a subset of columns in the data, and is a fast replacement for <code><a href="https://dplyr.tidyverse.org/reference/count.html" class="external-link">dplyr::count</a></code>. <!-- % \code{\link{fcountv}} is a programmers version of the function. --></p></li>
<li><p><code><a href="qF.html">qF</a></code>, shorthand for 'quick-factor' implements very fast factor generation from atomic vectors using either radix ordering <code>method = "radix"</code> or hashing <code>method = "hash"</code>. Factors can also be used for efficient grouped programming with <em>collapse</em> functions, especially if they are generated using <code>qF(x, na.exclude = FALSE)</code> which assigns a level to missing values and attaches a class 'na.included' ensuring that no additional missing value checks are executed by <em>collapse</em> functions.</p></li>
<li><p><code><a href="qF.html">qG</a></code>, shorthand for 'quick-group', generates a kind of factor-light without the levels attribute but instead an attribute providing the number of levels. Optionally the levels / groups can be attached, but without converting them to character. Objects have a class 'qG', which is also recognized in the <em>collapse</em> ecosystem.</p></li>
<li><p><code><a href="fdroplevels.html">fdroplevels</a></code> is a substantially faster replacement for <code><a href="https://rdrr.io/r/base/droplevels.html" class="external-link">droplevels</a></code>.</p></li>
<li><p><code><a href="qF.html">finteraction</a></code> is a fast alternative to <code><a href="https://rdrr.io/r/base/interaction.html" class="external-link">interaction</a></code> implemented as a wrapper around <code>as_factor_GRP(GRP(...))</code>. It can be used to generate a factor from multiple vectors, factors or a list of vectors / factors. Unused factor levels are always dropped.</p></li>
<li><p><code><a href="groupid.html">groupid</a></code> is a generalization of <code><a href="https://rdatatable.gitlab.io/data.table/reference/rleid.html" class="external-link">data.table::rleid</a></code> providing a run-length type group-id from atomic vectors. It is generalization as it also supports passing an ordering vector and skipping missing values. For example <code><a href="qF.html">qF</a></code> and <code><a href="qF.html">qG</a></code> with <code>method = "radix"</code> are essentially implemented using <code>groupid(x, radixorder(x))</code>.</p></li>
<li><p><code><a href="seqid.html">seqid</a></code> is a specialized function which creates a group-id from sequences of integer values. For any regular panel dataset <code>groupid(id, order(id, time))</code> and <code>seqid(time, order(id, time))</code> provide the same id variable. <code><a href="seqid.html">seqid</a></code> is especially useful for identifying discontinuities in time-sequences.</p></li>
<li><p><code><a href="timeid.html">timeid</a></code> is a specialized function to convert integer or double vectors representing time (such as 'Date', 'POSIXct' etc.) to factor or 'qG' object based on the greatest common divisor of elements (thus preserving gaps in time intervals).</p></li>
</ul></div>


    <div class="section level2">
    <h2 id="table-of-functions">Table of Functions<a class="anchor" aria-label="anchor" href="#table-of-functions"></a></h2>
    <p></p><table class="table table"><tr><td><em> Function / S3 Generic </em></td><td></td><td><em> Methods </em></td><td></td><td><em> Description </em></td></tr><tr><td><code><a href="radixorder.html">radixorder(v)</a></code></td><td></td><td>No methods, for data frames and vectors</td><td></td><td>Radix-based ordering + grouping information</td></tr><tr><td><code><a href="roworder.html">roworder(v)</a></code></td><td></td><td>No methods, for data frames incl. pdata.frame</td><td></td><td>Row sorting/reordering</td></tr><tr><td><code><a href="group.html">group(v)</a></code></td><td></td><td>No methods, for data frames and vectors</td><td></td><td>Hash-based grouping + grouping information</td></tr><tr><td><code><a href="GRP.html">GRP</a></code></td><td></td><td><code>default, GRP, factor, qG, grouped_df, pseries, pdata.frame</code></td><td></td><td>Fast grouping and a flexible grouping object</td></tr><tr><td><code><a href="GRP.html">fgroup_by</a></code></td><td></td><td>No methods, for data frames</td><td></td><td>Fast grouped data frame</td></tr><tr><td><code><a href="fmatch.html">fmatch</a></code></td><td></td><td>No methods, for vectors and data frames</td><td></td><td>Fast matching</td></tr><tr><td><code><a href="funique.html">funique</a></code>, <code><a href="funique.html">fnunique</a></code>, <code><a href="funique.html">fduplicated</a></code>, <code><a href="funique.html">any_duplicated</a></code></td><td></td><td><code>default, data.frame, sf, pseries, pdata.frame, list</code></td><td></td><td>Fast (number of) unique values/rows</td></tr><tr><td><code><a href="fcount.html">fcount(v)</a></code></td><td></td><td>Internal generic, supports vectors, matrices, data.frames, lists, grouped_df and pdata.frame</td><td></td><td>Fast group counts</td></tr><tr><td><code><a href="qF.html">qF</a></code></td><td></td><td>No methods, for vectors</td><td></td><td>Quick factor generation</td></tr><tr><td><code><a href="qF.html">qG</a></code></td><td></td><td>No methods, for vectors</td><td></td><td>Quick grouping of vectors and a 'factor-light' class</td></tr><tr><td><code><a href="fdroplevels.html">fdroplevels</a></code></td><td></td><td><code>factor, data.frame, list</code></td><td></td><td>Fast removal of unused factor levels</td></tr><tr><td><code><a href="qF.html">finteraction</a></code></td><td></td><td>No methods, for data frames and vectors</td><td></td><td>Fast interactions</td></tr><tr><td><code><a href="groupid.html">groupid</a></code></td><td></td><td>No methods, for vectors</td><td></td><td>Run-length type group-id</td></tr><tr><td><code><a href="seqid.html">seqid</a></code></td><td></td><td>No methods, for integer vectors</td><td></td><td>Run-length type integer sequence-id</td></tr><tr><td><code><a href="timeid.html">timeid</a></code></td><td></td><td>No methods, for integer or double vectors</td><td></td><td>Integer-id from time/date sequences</td></tr></table></div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index"><p><a href="collapse-documentation.html">Collapse Overview</a>, <a href="fast-data-manipulation.html">Data Frame Manipulation</a>, <a href="time-series-panel-series.html">Time Series and Panel Series</a></p></div>
    </div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Sebastian Krantz.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.9000.</p>
</div>

    </footer></div>





  </body></html>

